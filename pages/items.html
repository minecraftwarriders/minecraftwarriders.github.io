<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item Prices - Minecraft War Riders</title>
    
    <!-- Meta tags -->
    <meta property="og:title" content="Item Prices - Minecraft War Riders">
    <meta property="og:description" content="Complete item pricing guide for Minecraft War Riders server">
    <meta property="og:image" content="https://raw.githubusercontent.com/minecraftwarriders/minecraftwarriders.github.io/main/assets/logo.png">
    <meta property="og:url" content="https://minecraftwarriders.github.io/pages/items">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/minecraftwarriders/minecraftwarriders.github.io/main/assets/logo.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Shared CSS -->
    <link rel="stylesheet" href="../assets/styles.css">
    
    <style>
        /* Items page specific styles */
        .items-header {
            text-align: center;
            padding: var(--space-12) 0 var(--space-8);
            background: var(--glass-bg);
            border-radius: var(--radius-2xl);
            margin: var(--space-6) 0;
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
        }

        .items-title {
            font-size: var(--text-5xl);
            background: linear-gradient(135deg, var(--primary-100) 0%, var(--accent-500) 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: var(--space-4);
        }

        .items-description {
            font-size: var(--text-lg);
            color: var(--primary-400);
            max-width: 600px;
            margin: 0 auto;
        }

        .controls-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
            display: grid;
            grid-template-columns: 1fr auto auto auto;
            gap: var(--space-4);
            align-items: center;
        }

        .search-container {
            position: relative;
        }

        .search-icon {
            position: absolute;
            left: var(--space-3);
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-500);
            font-size: 1.1em;
        }

        .search-input {
            width: 100%;
            padding: var(--space-3) var(--space-3) var(--space-3) var(--space-12);
            background: var(--dark-glass-bg);
            border: 1px solid var(--dark-glass-border);
            border-radius: var(--radius-lg);
            color: var(--primary-100);
            font-size: var(--text-base);
            transition: all var(--transition-fast);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-500);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .filter-select, .sort-select {
            padding: var(--space-3) var(--space-4);
            background: var(--dark-glass-bg);
            border: 1px solid var(--dark-glass-border);
            border-radius: var(--radius-lg);
            color: var(--primary-100);
            font-size: var(--text-sm);
            cursor: pointer;
            min-width: 150px;
        }

        .view-toggle {
            display: flex;
            background: var(--dark-glass-bg);
            border-radius: var(--radius-lg);
            padding: var(--space-1);
            border: 1px solid var(--dark-glass-border);
        }

        .view-toggle-btn {
            background: transparent;
            border: none;
            padding: var(--space-2) var(--space-3);
            color: var(--primary-400);
            cursor: pointer;
            border-radius: var(--radius-md);
            transition: all var(--transition-fast);
        }

        .view-toggle-btn.active {
            background: var(--accent-500);
            color: white;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
            padding: var(--space-3) 0;
            border-bottom: 1px solid var(--glass-border);
        }

        .items-count {
            color: var(--primary-400);
            font-size: var(--text-sm);
        }

        .loading-state {
            text-align: center;
            padding: var(--space-12);
            color: var(--primary-400);
        }

        .empty-state {
            text-align: center;
            padding: var(--space-12);
            color: var(--primary-400);
        }

        /* Grid View */
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-8);
        }

        .item-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            transition: all var(--transition-base);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .item-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
            border-color: var(--glass-border-hover);
        }

        .item-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        }

        .item-header {
            display: flex;
            align-items: center;
            margin-bottom: var(--space-3);
        }

        .item-icon {
            width: 48px;
            height: 48px;
            background: var(--dark-glass-bg);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: var(--space-3);
            font-size: 1.5em;
            border: 1px solid var(--dark-glass-border);
        }

        .item-info {
            flex: 1;
        }

        .item-name {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--primary-100);
            margin-bottom: var(--space-1);
        }

        .item-category {
            font-size: var(--text-xs);
            color: var(--primary-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .item-pricing {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-3);
        }

        .price-box {
            background: var(--dark-glass-bg);
            border: 1px solid var(--dark-glass-border);
            border-radius: var(--radius-md);
            padding: var(--space-3);
            text-align: center;
        }

        .price-box.buy {
            border-color: rgba(16, 185, 129, 0.3);
        }

        .price-box.sell {
            border-color: rgba(245, 158, 11, 0.3);
        }

        .price-label {
            font-size: var(--text-xs);
            color: var(--primary-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: var(--space-1);
        }

        .price-value {
            font-family: var(--font-mono);
            font-size: var(--text-base);
            font-weight: 600;
        }

        .price-box.buy .price-value {
            color: var(--success-400);
        }

        .price-box.sell .price-value {
            color: var(--warning-400);
        }

        .price-unavailable {
            color: var(--primary-500);
        }

        /* List View */
        .items-table {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            overflow: hidden;
        }

        .table-header {
            background: var(--dark-glass-bg);
            border-bottom: 1px solid var(--glass-border);
            padding: var(--space-4);
            display: grid;
            grid-template-columns: 3fr 1fr 1fr 1fr;
            gap: var(--space-4);
            font-weight: 600;
            color: var(--primary-300);
            font-size: var(--text-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .table-row {
            padding: var(--space-4);
            display: grid;
            grid-template-columns: 3fr 1fr 1fr 1fr;
            gap: var(--space-4);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all var(--transition-fast);
            align-items: center;
        }

        .table-row:hover {
            background: var(--dark-glass-bg);
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .table-item-info {
            display: flex;
            align-items: center;
        }

        .table-item-icon {
            width: 32px;
            height: 32px;
            background: var(--dark-glass-bg);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: var(--space-3);
            font-size: 1em;
        }

        .table-item-details {
            flex: 1;
        }

        .table-item-name {
            font-size: var(--text-base);
            font-weight: 500;
            color: var(--primary-100);
            margin-bottom: var(--space-1);
        }

        .table-item-category {
            font-size: var(--text-xs);
            color: var(--primary-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .table-price {
            font-family: var(--font-mono);
            font-size: var(--text-base);
            font-weight: 600;
            text-align: center;
        }

        .table-price.buy {
            color: var(--success-400);
        }

        .table-price.sell {
            color: var(--warning-400);
        }

        .table-price.unavailable {
            color: var(--primary-500);
        }

        /* Special item indicators */
        .special-item {
            position: relative;
        }

        .special-item::after {
            content: '✨';
            position: absolute;
            top: -4px;
            right: -4px;
            font-size: 0.8em;
        }

        /* Category chips */
        .category-chip {
            display: inline-block;
            padding: var(--space-1) var(--space-2);
            background: var(--dark-glass-bg);
            border: 1px solid var(--dark-glass-border);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            color: var(--primary-400);
            margin: var(--space-1);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .category-chip:hover, .category-chip.active {
            background: var(--accent-500);
            color: white;
            border-color: var(--accent-500);
        }

        .categories-filter {
            margin-bottom: var(--space-6);
        }

        .categories-title {
            font-size: var(--text-base);
            font-weight: 600;
            color: var(--primary-300);
            margin-bottom: var(--space-3);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .controls-panel {
                grid-template-columns: 1fr;
                gap: var(--space-3);
            }

            .items-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .items-title {
                font-size: var(--text-4xl);
            }

            .items-grid {
                grid-template-columns: 1fr;
            }

            .table-header,
            .table-row {
                grid-template-columns: 2fr 1fr 1fr;
                font-size: var(--text-xs);
            }

            .table-row .table-price:last-child {
                display: none;
            }

            .table-header .price-label:last-child {
                display: none;
            }
        }

        /* Animation */
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo">
                <img src="https://raw.githubusercontent.com/minecraftwarriders/minecraftwarriders.github.io/main/assets/logo.png" alt="Logo">
                <span>War Riders</span>
            </a>
            <div class="flex items-center gap-6">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="wiki.html" class="nav-link">Wiki</a>
                <a href="items.html" class="nav-link active">Items</a>
            </div>
        </div>
    </nav>

    <div class="container" style="padding-top: 100px;">
        <!-- Header -->
        <div class="items-header">
            <h1 class="items-title">Item Prices</h1>
            <p class="items-description">
                Complete pricing guide for all items available on the server. Search, filter, and compare prices easily.
            </p>
        </div>

        <!-- Controls Panel -->
        <div class="controls-panel">
            <div class="search-container">
                <span class="search-icon">🔍</span>
                <input type="text" class="search-input" placeholder="Search items..." id="searchInput">
            </div>

            <select class="filter-select" id="categoryFilter">
                <option value="">All Categories</option>
                <option value="automation">Automation</option>
                <option value="blocks">Blocks</option>
                <option value="food">Food</option>
                <option value="farming">Farming</option>
                <option value="ores">Ores</option>
                <option value="tools">Tools</option>
            </select>

            <select class="sort-select" id="sortSelect">
                <option value="name">Sort by Name</option>
                <option value="buy-high">Buy Price (High to Low)</option>
                <option value="buy-low">Buy Price (Low to High)</option>
                <option value="sell-high">Sell Price (High to Low)</option>
                <option value="sell-low">Sell Price (Low to High)</option>
            </select>

            <div class="view-toggle">
                <button class="view-toggle-btn active" data-view="grid" id="gridViewBtn">
                    ⊞
                </button>
                <button class="view-toggle-btn" data-view="list" id="listViewBtn">
                    ☰
                </button>
            </div>
        </div>

        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="items-count" id="itemsCount">
                Loading items...
            </div>
            <div class="loading-spinner" id="loadingSpinner" style="display: none;"></div>
        </div>

        <!-- Categories Filter (Quick Access) -->
        <div class="categories-filter" id="categoriesFilter" style="display: none;">
            <div class="categories-title">Quick Filter by Category:</div>
            <div id="categoryChips"></div>
        </div>

        <!-- Items Grid View -->
        <div class="items-grid" id="itemsGrid"></div>

        <!-- Items Table View -->
        <div class="items-table" id="itemsTable" style="display: none;"></div>

        <!-- Empty State -->
        <div class="empty-state" id="emptyState" style="display: none;">
            <h3>No items found</h3>
            <p>Try adjusting your search or filter criteria.</p>
        </div>
    </div>

    <script>
        // Sample item data structure - in a real implementation, this would be loaded from your YAML files
        const sampleItems = [
            {
                material: 'CHEST',
                name: 'Sell Chest',
                category: 'automation',
                buy: 10000,
                sell: -1,
                special: true,
                icon: '📦'
            },
            {
                material: 'DIAMOND',
                name: 'Diamond',
                category: 'ores',
                buy: 100,
                sell: 25,
                icon: '💎'
            },
            {
                material: 'IRON_INGOT',
                name: 'Iron Ingot',
                category: 'ores',
                buy: 10,
                sell: 2.5,
                icon: '🔸'
            },
            {
                material: 'BREAD',
                name: 'Bread',
                category: 'food',
                buy: 15.75,
                sell: 3.94,
                icon: '🍞'
            },
            {
                material: 'STONE',
                name: 'Stone',
                category: 'blocks',
                buy: 0.72,
                sell: 0.18,
                icon: '🪨'
            }
        ];

        // State management
        let currentItems = [];
        let filteredItems = [];
        let currentView = 'grid';

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadItems();
            setupEventListeners();
            setupNavbar();
        });

        // Load and process items data
        async function loadItems() {
            try {
                // Show loading state
                showLoading(true);
                
                // In a real implementation, you would fetch from your YAML files
                // For demo purposes, we'll use the sample data
                await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate loading
                
                currentItems = sampleItems;
                filteredItems = [...currentItems];
                
                renderItems();
                updateItemsCount();
                generateCategoryChips();
                
                showLoading(false);
            } catch (error) {
                console.error('Error loading items:', error);
                showLoading(false);
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Search input
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            
            // Category filter
            document.getElementById('categoryFilter').addEventListener('change', handleFilter);
            
            // Sort select
            document.getElementById('sortSelect').addEventListener('change', handleSort);
            
            // View toggle
            document.getElementById('gridViewBtn').addEventListener('click', () => setView('grid'));
            document.getElementById('listViewBtn').addEventListener('click', () => setView('list'));
        }

        // Handle search functionality
        function handleSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            
            if (query === '') {
                filteredItems = [...currentItems];
            } else {
                filteredItems = currentItems.filter(item => 
                    item.name.toLowerCase().includes(query) ||
                    item.material.toLowerCase().includes(query) ||
                    item.category.toLowerCase().includes(query)
                );
            }
            
            renderItems();
            updateItemsCount();
        }

        // Handle category filtering
        function handleFilter() {
            const category = document.getElementById('categoryFilter').value;
            const searchQuery = document.getElementById('searchInput').value.toLowerCase().trim();
            
            let items = [...currentItems];
            
            // Apply search filter
            if (searchQuery !== '') {
                items = items.filter(item => 
                    item.name.toLowerCase().includes(searchQuery) ||
                    item.material.toLowerCase().includes(searchQuery)
                );
            }
            
            // Apply category filter
            if (category !== '') {
                items = items.filter(item => item.category === category);
            }
            
            filteredItems = items;
            renderItems();
            updateItemsCount();
        }

        // Handle sorting
        function handleSort() {
            const sortBy = document.getElementById('sortSelect').value;
            
            switch (sortBy) {
                case 'name':
                    filteredItems.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'buy-high':
                    filteredItems.sort((a, b) => (b.buy === -1 ? -1 : b.buy) - (a.buy === -1 ? -1 : a.buy));
                    break;
                case 'buy-low':
                    filteredItems.sort((a, b) => (a.buy === -1 ? Infinity : a.buy) - (b.buy === -1 ? Infinity : b.buy));
                    break;
                case 'sell-high':
                    filteredItems.sort((a, b) => (b.sell === -1 ? -1 : b.sell) - (a.sell === -1 ? -1 : a.sell));
                    break;
                case 'sell-low':
                    filteredItems.sort((a, b) => (a.sell === -1 ? Infinity : a.sell) - (b.sell === -1 ? Infinity : b.sell));
                    break;
            }
            
            renderItems();
        }

        // Set view mode (grid or list)
        function setView(view) {
            currentView = view;
            
            // Update button states
            document.querySelectorAll('.view-toggle-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(view + 'ViewBtn').classList.add('active');
            
            // Show/hide appropriate containers
            if (view === 'grid') {
                document.getElementById('itemsGrid').style.display = 'grid';
                document.getElementById('itemsTable').style.display = 'none';
            } else {
                document.getElementById('itemsGrid').style.display = 'none';
                document.getElementById('itemsTable').style.display = 'block';
            }
            
            renderItems();
        }

        // Render items based on current view
        function renderItems() {
            if (filteredItems.length === 0) {
                showEmptyState(true);
                return;
            }
            
            showEmptyState(false);
            
            if (currentView === 'grid') {
                renderGridView();
            } else {
                renderListView();
            }
        }

        // Render grid view
        function renderGridView() {
            const container = document.getElementById('itemsGrid');
            container.innerHTML = '';
            
            filteredItems.forEach(item => {
                const card = document.createElement('div');
                card.className = `item-card fade-in ${item.special ? 'special-item' : ''}`;
                
                card.innerHTML = `
                    <div class="item-header">
                        <div class="item-icon">${item.icon || '📦'}</div>
                        <div class="item-info">
                            <div class="item-name">${item.name}</div>
                            <div class="item-category">${item.category}</div>
                        </div>
                    </div>
                    <div class="item-pricing">
                        <div class="price-box buy">
                            <div class="price-label">Buy Price</div>
                            <div class="price-value ${item.buy === -1 ? 'price-unavailable' : ''}">
                                ${item.buy === -1 ? 'N/A' : '$' + item.buy.toLocaleString()}
                            </div>
                        </div>
                        <div class="price-box sell">
                            <div class="price-label">Sell Price</div>
                            <div class="price-value ${item.sell === -1 ? 'price-unavailable' : ''}">
                                ${item.sell === -1 ? 'N/A' : '$' + item.sell.toLocaleString()}
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        // Render list view
        function renderListView() {
            const container = document.getElementById('itemsTable');
            
            let html = `
                <div class="table-header">
                    <div>Item</div>
                    <div>Category</div>
                    <div>Buy Price</div>
                    <div>Sell Price</div>
                </div>
            `;
            
            filteredItems.forEach(item => {
                html += `
                    <div class="table-row fade-in">
                        <div class="table-item-info">
                            <div class="table-item-icon">${item.icon || '📦'}</div>
                            <div class="table-item-details">
                                <div class="table-item-name ${item.special ? 'special-item' : ''}">${item.name}</div>
                                <div class="table-item-category">${item.category}</div>
                            </div>
                        </div>
                        <div class="table-item-category">${item.category}</div>
                        <div class="table-price buy ${item.buy === -1 ? 'unavailable' : ''}">
                            ${item.buy === -1 ? 'N/A' : '$' + item.buy.toLocaleString()}
                        </div>
                        <div class="table-price sell ${item.sell === -1 ? 'unavailable' : ''}">
                            ${item.sell === -1 ? 'N/A' : '$' + item.sell.toLocaleString()}
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // Update items count display
        function updateItemsCount() {
            const count = filteredItems.length;
            const total = currentItems.length;
            document.getElementById('itemsCount').textContent = 
                `Showing ${count} of ${total} items`;
        }

        // Generate category filter chips
        function generateCategoryChips() {
            const categories = [...new Set(currentItems.map(item => item.category))];
            const container = document.getElementById('categoryChips');
            
            categories.forEach(category => {
                const chip = document.createElement('span');
                chip.className = 'category-chip';
                chip.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                chip.addEventListener('click', () => {
                    document.getElementById('categoryFilter').value = category;
                    handleFilter();
                });
                container.appendChild(chip);
            });
            
            document.getElementById('categoriesFilter').style.display = 'block';
        }

        // Show/hide loading state
        function showLoading(show) {
            document.getElementById('loadingSpinner').style.display = show ? 'block' : 'none';
        }

        // Show/hide empty state
        function showEmptyState(show) {
            document.getElementById('emptyState').style.display = show ? 'block' : 'none';
        }

        // Navbar scroll effect
        function setupNavbar() {
            function handleNavbarScroll() {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 100) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            }
            
            window.addEventListener('scroll', handleNavbarScroll);
        }
    </script>
</body>
</html>